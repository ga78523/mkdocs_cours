(()=>{var __webpack_modules__={9182:(e,t,n)=>{const{DEFAULT_SERVER_TIMEOUT:i,DEFAULT_CMP_TIMEOUT:r,DEBUG_MODE_VARIABLE:o}=n(5279),{getMapping:s}=n(7709),{initiateApstagLibrary:a}=n(8201),{initiateXandrLibrary:d}=n(2152),c=n(3739),l={isDomContentLoaded:!1,isConfigSet:!1,test:0,adServer:"googleAdManager",clickTracker:!1,lazyLoading:{isActive:0,fetchRatio:2,mobileFetchRatio:4},googletag:{collapseEmptyDiv:!1,setCentering:!1},getMapping:{isActive:0},targeting:{},googleConsent:!1,refresh:{isActive:!1},refreshHandlerCalled:!1,prefetchPerformed:!1};let g={...l};e.exports={isConfigSet:()=>g.isConfigSet,getConfig:e=>void 0===e?g:"bidderTimeout"===e?g.timeout:g[e],clearConfig:()=>{Object.keys(g).forEach((e=>{delete g[e]})),g={...l}},setConfig:e=>{if((()=>{const e=window.location.search;if(!e)return!1;const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{const[n,i]=e.split("=");t[n]=i})),"true"===t[o]})()?g.debug=1:g.debug=void 0===e.debug?0:e.debug,void 0===e.account)throw new Error("Account must be set");if(Object.keys(e).forEach((t=>{g[t]=e[t]})),void 0===g.gdpr&&(g.gdpr=0),void 0!==g.timeout&&Number.isInteger(g.timeout)||(g.timeout=i),void 0!==g.cmpTimeout&&Number.isInteger(g.cmpTimeout)||(g.cmpTimeout=r),void 0!==g.targeting&&"object"==typeof g.refresh||(g.targeting={}),void 0!==g.granularity){if(!["low","medium","high","dense","auto"].includes(g.granularity))throw new Error('Granularity must be in "low", "medium", "high", "dense", "auto"')}else g.granularity="dense";if(void 0===g.googletag.collapseEmptyDiv&&(g.googletag.collapseEmptyDiv=!1),void 0===g.googletag.setCentering&&(g.googletag.setCentering=!1),!["googleAdManager","smartAdServer","xandr","none"].includes(g.adServer))throw new Error("adServer must be googleAdManager, smartAdServer, xandr or none");if("smartAdServer"===g.adServer){if(!g.smartAdServer)throw new Error("config.smartAdServer must be set");if(!g.smartAdServer.networkId)throw new Error("smartAdServer.networkId must be set");if("number"!=typeof g.smartAdServer.networkId)throw new Error("smartAdServer.networkId must be an integer")}if("xandr"===g.adServer)if(g.xandr){if(!g.xandr.member)throw new Error("xandr.member must be set");if("number"!=typeof g.xandr.member)throw new Error("xandr.member must be an integer");const e={keywords:{...g.targeting,...g.xandr.keywords},member:g.xandr.member};d(e)}else d();if(void 0===g.adServerCurrency&&(g.adServerCurrency="EUR"),void 0===g.amazon&&(g.amazon={}),void 0===g.amazon.isActive&&(g.amazon.isActive=0),1===g.amazon.isActive&&void 0===g.amazon.pubId)throw new Error("Amazon PubId must be set");if(1===g.amazon.isActive&&a(g.amazon.pubId),g.targeting.nexx360_lazy=0,0!==g.lazyLoading.isActive&&1!==g.lazyLoading.isActive)throw new Error("LazyLoading.isActive should be 1 or 0");if(g.lazyLoading.isActive){if("number"!=typeof g.lazyLoading.fetchRatio||g.lazyLoading.fetchRatio<0)throw new Error("FetchRatio must be set and a positive number");if("number"!=typeof g.lazyLoading.mobileFetchRatio||g.lazyLoading.mobileFetchRatio<0)throw new Error("MobileFetchRatio must be set and a positive number");g.targeting.nexx360_lazy=1}if(g.ids&&g.ids.id5){if(!g.ids.id5.partnerId)throw new Error("Id5 partnerId must be set");if("string"==typeof g.ids.id5.partnerId)throw new Error("Id5 partnerId must be an integer")}g.getMapping.isActive&&void 0!==g.getMapping.siteId?s(g.getMapping.siteId).then((e=>{g.getMapping.mappingFunction=e,g.isConfigSet=!0,c.emit("nexx360ConfigSet",g)})).catch((e=>{console.error(`Mapping function error: ${e.message}`),g.getMapping.isActive=!1,g.isConfigSet=!0,c.emit("nexx360ConfigSet",g)})):(g.isConfigSet=!0,c.emit("nexx360ConfigSet",g))},setDomContentLoaded:()=>{g.isDomContentLoaded=!0},isDomContentLoaded:()=>g.isDomContentLoaded,getAdServer:()=>g.adServer,getAdServerCurrency:()=>g.adServerCurrency,isGdprActive:()=>1===g.gdpr||!0===g.gdpr,setGdprApplies:e=>{g.gdprApplies=e},getGdprApplies:()=>g.gdprApplies,setGdprConsent:e=>{g.gdprConsent=e},getGdprConsent:()=>g.gdprConsent,setGoogleConsent:e=>{g.googleConsent=e},getGoogleConsent:()=>g.googleConsent,getAccount:()=>g.account,getGranularity:()=>g.granularity,getTargeting:()=>g.targeting,getTimeout:()=>g.timeout,isAmazonActive:()=>g.amazon.isActive,getAmazonPubId:()=>g.amazon.pubId,getCmpTimeout:()=>g.cmpTimeout,setTargeting:(e,t)=>{void 0!==e&&void 0!==t&&(g.targeting[e]=t)},isGetMappingActive:()=>g.getMapping.isActive,getMappingFunction:()=>g.getMapping.mappingFunction,setRefresh:e=>{g.refresh=e},setRefreshHandlerAsCalled:()=>{g.refreshHandlerCalled=!0},getRefreshHandlerCallStatus:()=>g.refreshHandlerCalled,setPrefetchAsPerformed:()=>{g.prefetchPerformed=!0},getPrefetchPerformerStatus:()=>g.prefetchPerformed}},5279:e=>{const{DEFAULT_ENDPOINT_HOST:t,TAG:n}={DEFAULT_ENDPOINT_HOST:"https://fast.nexx360.io",TAG:"2.8.0"};e.exports={TAG:n,DEFAULT_ENDPOINT_HOST:t,DEFAULT_ENDPOINT_PATH:"/requests",DEFAULT_COOKIESYNC_PATH:"/cookie_sync",DEFAULT_CLICKTRACKER_PATH:"/register-click",DEFAULT_SERVER_TIMEOUT:2500,DEFAULT_IDS_TIMEOUT:100,DEFAULT_CMP_TIMEOUT:1e4,DEBUG_MODE_VARIABLE:"n360Ad_debug",RATES_URL:"https://cdn.jsdelivr.net/gh/prebid/currency-file@1/latest.json",DEFAULT_REFRESH_TIMEOUT:3e4}},8501:(e,t,n)=>{const{getCmpTimeout:i,setGoogleConsent:r,setGdprApplies:o,setGdprConsent:s,isGdprActive:a}=n(9182),{storeTimelineEvent:d}=n(9318),c=n(1815),l=e=>{if(e.gdprApplies)try{return!(!0!==e.purpose.consents[1]||!0!==e.purpose.consents[3]||!0!==e.purpose.consents[4]||!0!==e.purpose.consents[2]&&!0!==e.purpose.legitimateInterests[2]||!0!==e.purpose.consents[7]&&!0!==e.purpose.legitimateInterests[7]||!0!==e.purpose.consents[9]&&!0!==e.purpose.legitimateInterests[9]||!0!==e.purpose.consents[10]&&!0!==e.purpose.legitimateInterests[10]||!0!==e.vendor.consents[755]&&!0!==e.vendor.legitimateInterests[755])}catch(t){return c.force("Error analysing TCData for Google",e),!0}return!0};e.exports={getTcString:()=>new Promise((e=>{d("getTcString");const t=(t,n)=>{!1!==t.gdprApplies&&"tcloaded"!==t.eventStatus&&"useractioncomplete"!==t.eventStatus||(d("consentResolved"),n&&(!1===t.gdprApplies?(o(!1),s(!1),e(!1)):(o(!0),s(t.tcString),e(t.tcString))))},n=()=>{"function"==typeof window.__tcfapi?window.__tcfapi("addEventListener",2,t):setTimeout((()=>{n()}),50)};n(),setTimeout((()=>{"function"!=typeof window.__tcfapi&&(o(!1),e(!1))}),i())})),analyseTCDataForGoogle:l,checkGoogleConsent:()=>new Promise((e=>{if(a()){const t=(t,n)=>{if(n)try{const n=l(t);r(n),e(n)}catch(n){c.force("Error analysing TCData for Google",t),r(!0),e(!0)}};window.__tcfapi("addEventListener",2,t)}else o(!1),r(!0),e(!0)})),checkNexx360Consent:()=>new Promise((e=>{if(a()){const t=(t,n)=>{if(n)try{const n=!0===t.vendor.consents[965];e(n)}catch(n){c.force("Error analysing TCData for Nexx360",t),e(!0)}};window.__tcfapi("addEventListener",2,t)}else e(!0)}))}},8698:(e,t,n)=>{const{getConfig:i}=n(9182),{setLocaLStorageItem:r}=n(5439),{scriptLoader:o}=n(6555);e.exports={getId5Id:()=>new Promise((e=>{const t=i();t.ids&&t.ids.id5?o("https://cdn.id5-sync.com/api/1.0/id5-api.js",(()=>{ID5.init({partnerId:t.ids.id5.partnerId}).onAvailable((t=>{const n=t.getUserId();r("id5UserId",n),e({id5UserId:n})}))})):e()}))}},3265:(e,t,n)=>{const{isGdprActive:i,getGdprApplies:r,getConfig:o}=n(9182),{getTcString:s}=n(8501),{getLocalStorageContent:a}=n(5439),{getId5Id:d}=n(8698);e.exports={retrieveIds:async()=>{i()&&void 0===r()&&await s();const e=[d()];return await Promise.all(e)},getIdsFromLocalStorage:()=>{const e={},t=o(),n=a();return t.ids&&t.ids.id5&&n.id5UserId&&(e.id5=n.id5UserId),e}}},7709:module=>{const sendGetRequest=(e,t)=>{const n=new XMLHttpRequest;n.addEventListener("load",(function(){t(n.responseText)})),n.open("GET",e),n.send()},manageMappingResponse=response=>{let foo,mappingFunction;try{foo=JSON.parse(response)}catch(e){throw new Error(e.message)}if(!foo.mappingFunction)throw new Error("mappingFunction not defined");try{mappingFunction=eval(foo.mappingFunction)}catch(e){throw new Error(e.message)}return mappingFunction},getMapping=e=>new Promise(((t,n)=>{sendGetRequest(`//fast.nexx360.io/get-prefetch?site=${e}`,(e=>{try{const n=manageMappingResponse(e);return t(n)}catch(e){return n(e)}}))}));module.exports={getMapping}},9426:(e,t,n)=>{const i=n(1815),{getTimeout:r}=n(9182),{storeTimelineEvent:o}=n(9318),s=e=>{const t=[];return e.forEach((e=>{if("regular"===e.type){const n={slotID:e.slotId,slotName:e.adUnitId,sizes:e.sizes};t.push(n)}})),{timeout:r(),slots:t}},a=e=>{const t={targeting:{}};return e.forEach((e=>{t.targeting[e.slotID]={},Object.keys(e).forEach((n=>{"amzn"===n.substr(0,4)&&(t.targeting[e.slotID][n]=e[n])}))})),t};e.exports={fetchApstag:e=>new Promise((t=>{o("callToAmazonStart");const n=s(e);0===n.slots.length?(i.info("Apstag slots cannot be created",e),t({targeting:{}})):(window.apstag.fetchBids(n,(e=>{const n=a(e);o("callToAmazonEnd"),t(n)})),window.navigator.userAgent&&window.navigator.userAgent.toLowerCase().indexOf("firefox/")>-1&&setTimeout((()=>{t()}),1e3))})),createApstagBidConfig:s,manageResponse:a}},8201:e=>{e.exports={initiateApstagLibrary:e=>{!function(e,t,n,i,r,o,s){function a(n,i){t[e]._Q.push([n,i])}t[e]||(t[e]={init:function(){a("i",arguments)},fetchBids:function(){a("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(o=n.createElement(i)).async=!0,o.src="//c.amazon-adsystem.com/aax2/apstag.js",(s=n.getElementsByTagName(i)[0]).parentNode.insertBefore(o,s))}("apstag",window,document,"script"),window.apstag.init({pubID:e.toString(),adServer:"googletag"})}}},3360:e=>{window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],e.exports={display:e=>{window.googletag.cmd.push((()=>{window.googletag.display(e)}))}}},5694:(e,t,n)=>{const i=n(1815),r=n(3739),{getConfig:o}=n(9182),{storeTimelineEvent:s}=n(9318),{getSlotBySlotId:a}=n(2808);e.exports={refreshGoogleSlots:e=>{const t=[],n=o(),d=[];window.googletag.cmd.push((()=>{Object.keys(n.targeting).forEach((e=>{window.googletag.pubads().setTargeting(e,`${n.targeting[e]}`)}));const o=window.googletag.pubads().getSlots();e.forEach((e=>{let t=o.findIndex((t=>t.getTargeting("slotId")[0]===e.slotId));if(-1===t){let n;"regular"===e.type&&(n=(e=>{const t=window.googletag.defineSlot(e.adUnitId,e.sizes,e.divId);return e.collapseEmptyDiv&&t.setCollapseEmptyDiv(!0),t.addService(window.googletag.pubads()),t.setTargeting("slotId",e.slotId),t})(e)),"oop"===e.type&&(n=(e=>{const t=window.googletag.defineOutOfPageSlot(e.adUnitId,e.sizes);return e.collapseEmptyDiv&&t.setCollapseEmptyDiv(!0),t.addService(window.googletag.pubads()),t.setTargeting("slotId",e.slotId),t})(e)),o.push(n),t=o.findIndex((t=>t.getTargeting("slotId")[0]===e.slotId))}const n=o[t];n.clearTargeting(),n.setTargeting("slotId",e.slotId),e.getTargetingKeys().forEach((t=>{n.setTargeting(t,e.getTargeting(t))})),d.push(n)})),n.googletag.collapseEmptyDiv&&window.googletag.pubads().collapseEmptyDivs(!0),n.googletag.setCentering&&window.googletag.pubads().setCentering(!0),window.googletag.pubads().disableInitialLoad(),window.googletag.pubads().enableSingleRequest(),window.googletag.enableServices(),window.googletag.pubads().refresh(d),s("callToGoogleAdsStart"),window.googletag.pubads().addEventListener("slotResponseReceived",(()=>s("callToGoogleAdsEnd"))),window.googletag.pubads().addEventListener("slotRenderEnded",(e=>{const[n]=e.slot.getTargeting("slotId");if(t.includes(n))return;t.push(n);const o=a(n);if(!o)return void i.force(`Cannot retrieve slot with Id ${n}`);const s={campaignId:e.campaignId,lineItemId:e.lineItemId,advertiserId:e.advertiserId,creativeId:e.creativeId,size:e.size};o.setGoogleRenderedInfo(s),o.setStatus("rendered"),r.emit("slotRenderEnded",o)}))}))}}},2339:(e,t,n)=>{const{scriptLoader:i}=n(6555);e.exports={loadGoogleLibrary:()=>new Promise((()=>{i("//securepubads.g.doubleclick.net/tag/js/gpt.js")}))}},8216:(e,t,n)=>{const i=n(9182),{DEFAULT_ENDPOINT_HOST:r,DEFAULT_ENDPOINT_PATH:o}=n(5279),{getIdsFromLocalStorage:s}=n(3265),{storeTimelineEvent:a}=n(9318),d=e=>{const t=e.map((e=>({tagId:e.nexx360TagId,divId:e.divId,slotId:e.slotId,targeting:e.targeting,sizes:e.sizes,label:e.label}))).filter((e=>void 0!==e.tagId)),n={account:i.getAccount(),gdpr:!1===i.getGdprApplies()?0:1,granularity:i.getGranularity(),gdprConsent:void 0===i.getGdprConsent()?"":i.getGdprConsent(),slots:t};return n.eids=s(),n.test=i.getConfig().test?1:0,n.href=document.location.href,n};e.exports={fetchNexx360:e=>new Promise((t=>{const n=d(e);if(0===n.slots.length)t({targeting:{}});else{a("callToNexx360Start");const e=new XMLHttpRequest;e.open("POST",`${r}${o}`,!0),e.withCredentials=!0,e.timeout=i.getTimeout(),e.onreadystatechange=()=>{if(e.readyState===XMLHttpRequest.DONE&&200===e.status){a("callToNexx360End");const n=JSON.parse(e.responseText);t(n)}},e.ontimeout=()=>{a("callToNexx360End"),t({error:"timeout",targeting:{}})},e.onerror=()=>{a("callToNexx360End"),t({error:"n360server",targeting:{}})},e.send(JSON.stringify(n))}})),createPayload:d}},6187:(e,t,n)=>{const{uuidv4:i}=n(8914);e.exports={triggerPixel:e=>new Promise(((t,n)=>{const i=new Image;i.addEventListener("load",t()),i.addEventListener("error",n()),i.src=e})),insertUserSyncIframe:e=>new Promise(((t,n)=>{const r=((e,t=!0,n="")=>e?(t&&(e=encodeURI(e)),n&&(n=`sandbox="${n}"`),`<iframe ${n} id="${i()}"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="${e}">\n    </iframe>`):"")(e,!1,"allow-scripts allow-same-origin"),o=document.createElement("div");o.innerHTML=r;const s=o.firstChild;s.addEventListener("load",t()),s.addEventListener("error",n()),((e,t,n,i)=>{let r;t=t||document,r=n?t.getElementsByTagName(n):t.getElementsByTagName("head");try{if(r=r.length?r:t.getElementsByTagName("body"),r.length){r=r[0];const t=null;return r.insertBefore(e,t)}}catch(e){console.log(e.message)}})(s,document,"html")}))}},1297:(e,t,n)=>{const{DEFAULT_ENDPOINT_HOST:i,DEFAULT_COOKIESYNC_PATH:r}=n(5279),o=n(9182),{getTcString:s,checkNexx360Consent:a}=n(8501),d=n(1815),{triggerPixel:c,insertUserSyncIframe:l}=n(6187);e.exports={syncUser:async()=>{const e=await(async()=>{const e=o.getAccount();return"1076"===e||"galaxie-media"===e?!!await a()&&await(async()=>{const e=o.isGdprActive(),t={account:o.getAccount(),gdpr:e?1:0};return e&&(t.gdpr_consent=await s()),t})():await(async()=>({gdpr:0}))()})();if(!1!==e)try{const t=await(e=>new Promise(((t,n)=>{const s=new XMLHttpRequest;s.open("POST",`${i}${r}`,!0),s.withCredentials=!0,s.timeout=o.timeout,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE&&200===s.status){const e=JSON.parse(s.responseText);t(e)}},s.ontimeout=()=>{n()},s.onerror=()=>{n()},s.send(JSON.stringify(e))})))(e);(e=>{e.bidder_status&&e.bidder_status.forEach((e=>{const{usersync:t}=e;"redirect"!==t.type&&"image"!==t.type||c(t.url),"iframe"===t.type&&l(t.url)}))})(t)}catch(e){console.log(`userSync failed: ${e.message}`)}else d.force("Nexx360 does not have consent to perform cookie_sync")}}},3791:e=>{e.exports={refreshSmartSlots:e=>{}}},4775:(e,t,n)=>{const i=n(9182),{storeTimelineEvent:r}=n(9318),{createPayload:o}=n(7473),{manageResponse:s}=n(1115);e.exports={fetchTeads:e=>new Promise((t=>{const n=new XMLHttpRequest,{payload:a,auctionsArray:d}=o(e);0===a.data.length?t({targeting:{}}):(r("callToTeadsStart"),n.open("POST","https://a.teads.tv/hb/bid-request",!0),n.withCredentials=!0,n.timeout=i.getTimeout(),n.onreadystatechange=()=>{if(n.readyState===XMLHttpRequest.DONE&&200===n.status){r("callToTeadsEnd");const e=JSON.parse(n.responseText);t(s(d,e))}},n.ontimeout=()=>{t()},n.onerror=()=>{t()},0===a.data.length?t({targeting:{}}):n.send(JSON.stringify(a)))}))}},7473:(e,t,n)=>{const{getReferrer:i}=n(460),{formatPrebidSizes:r}=n(7414),{isGdprActive:o,getGdprConsent:s}=n(9182),{uuid:a,uuidv4:d}=n(8914),{getCookie:c}=n(7729),l=e=>{const t=e.performance||e.webkitPerformance||e.msPerformance||e.mozPerformance,n=t&&"function"==typeof t.getEntriesByType&&"[object Function]"===Object.prototype.toString.call(t.getEntriesByType)&&t.getEntriesByType("navigation")[0]&&t.getEntriesByType("navigation")[0].responseStart&&t.getEntriesByType("navigation")[0].requestStart&&t.getEntriesByType("navigation")[0].responseStart>0&&t.getEntriesByType("navigation")[0].requestStart>0&&Math.round(t.getEntriesByType("navigation")[0].responseStart-t.getEntriesByType("navigation")[0].requestStart);if(n)return n.toString();const i=t&&t.timing.responseStart&&t.timing.requestStart&&t.timing.responseStart>0&&t.timing.requestStart>0&&t.timing.responseStart-t.timing.requestStart;return i?i.toString():""},g=()=>{const e=c("_tfpvi");return e?{firstPartyCookieTeadsId:e}:{}};e.exports={createPayload:e=>{const{slotsArray:t,auctionsArray:n}=(e=>{const t={slotsArray:[],auctionsArray:{}},n=d(),i=e=>parseInt(e,10)>0,o=a();return e.forEach((e=>{const s=a();i(e.teadsPageId)&&i(e.teadsPlacementId)&&(t.slotsArray.push({adUnitCode:e.divId,bidId:s,auctionId:n,bidderRequestId:o,pageId:parseInt(e.teadsPageId,10),placementId:parseInt(e.teadsPlacementId,10),transactionId:d(),sizes:r(e.sizes)}),t.auctionsArray[s]=e.divId)})),t})(e);var c;return{payload:{referrer:i(window),pageReferrer:document.referrer,networkBandwidth:(c=window.navigator,c&&c.connection&&c.connection.downlink>=0?c.connection.downlink.toString():""),timeToFirstByte:l(window),data:t,deviceWidth:window.screen.width,gdpr_iab:{apiVersion:2,consent:!1===s()?"":s(),status:o()?12:0},...g()},auctionsArray:n}}}},1115:(e,t,n)=>{const i=n(1822),r=n(1052),o=n(1815),s=n(9182),{setStoreElement:a}=n(4960),{getSlotByDivId:d}=n(2808);e.exports={manageResponse:(e,t)=>{const n={targeting:{},auctions:[]},c=s.getAdServerCurrency();if("object"!=typeof t)return n;if("object"!=typeof t.responses)return n;const l=s.getGranularity();return t.responses.forEach((t=>{const o=e[t.bidId],g=d(o);if(!g)return;const p=r.convert(t.cpm,t.currency,c);n.targeting[g.slotId]={n360_pb:i.getPriceBucketString(p)[l],n360_adid:t.bidId,n360_size:`${parseInt(t.width,10)}x${parseInt(t.height,10)}`,n360_type:"client",n360_bidder:"teads",n360_tag_id:g.nexx360TagId,n360_price:p,n360_consent:s.getGoogleConsent()?1:0},n.auctions.push({slotId:g.slotId,bids:{teads:p}}),a(t.bidId,t)})),o.info("Teads targeting",n),n}}},7378:(e,t,n)=>{const{scriptLoader:i}=n(6555),{isGdprActive:r,getGdprApplies:o,getConfig:s}=n(9182),{getTcString:a}=n(8501);e.exports={initTeadsCookieslessTag:async()=>{"1003"===s().account&&(r()&&void 0===o()&&await a(),window.teads_analytics=window.teads_analytics||{},window.teads_analytics.analytics_tag_id="PUB_9909",window.teads_analytics.share=window.teads_analytics.share||function(){(window.teads_analytics.shared_data=window.teads_analytics.shared_data||[]).push(arguments)},i("https://a.teads.tv/analytics/tag.js"))}}},4217:(e,t,n)=>{const i=n(3739),r=[];e.exports={refreshXandrSlots:e=>{window.apntag=window.apntag||{anq:[]},window.apntag.anq.push((()=>{const t=[];e.forEach((e=>{r.includes(e.divId)||((e=>{window.apntag.defineTag({invCode:e.xandrInvCode,sizes:e.sizes,targetId:e.divId,keywords:e.targeting})})(e),(e=>{window.apntag.onEvent("adLoaded",e.divId,(t=>{e.xandrRenderedInfo=t,e.setStatus("rendered"),i.emit("slotRenderEnded",e)}))})(e),r.push(e.divId)),t.push(e.divId)})),window.apntag.refresh(t)}))}}},2152:e=>{e.exports={initiateXandrLibrary:e=>{void 0!==e&&(window.apntag=window.apntag||{anq:[]},window.apntag.anq.push((()=>{window.apntag.setPageOpts(e)})))}}},7212:e=>{e.exports={displayNonPersonalizedAds:e=>{e.forEach((e=>{"oop"!==e.type&&(e=>{if(0===e.getTargeting("n360_size").length)return;const t=e.getTargeting("n360_size")[0].split("x"),n=document.createElement("iframe");n.id=`nexx360-iframe-${e.getSlotId()}`,n.style.width=t[0],n.style.height=t[1],n.style.border=0,n.setAttribute("marginheight",0),n.setAttribute("marginwidth",0),n.scrolling="no",n.frameborder="no";let i=document.getElementById(e.divId);if(i){if(i.innerHTML="","teads"===e.getTargeting("n360_bidder")[0]&&!document.getElementById(e.slotId)){const t=document.createElement("div");t.id=e.slotId,i.appendChild(t),i=t}i.appendChild(n),n.contentDocument.open(),n.contentDocument.write((e=>{const t=(e=>{const t={};return Object.keys(e).forEach((n=>{t[n]=[e[n]]})),t})(e.targeting);return`\n    <script src='https://cdn.nexx360.io/creative.js'><\/script>\n    <script>\n      try {\n        n360Tag.renderAd(document, JSON.parse('${JSON.stringify(t)}'));\n      } catch (e) {\n        console.log(e);\n      }\n    <\/script>\n  `})(e)),n.contentDocument.close()}e.setStatus("rendered")})(e)}))}}},1587:(e,t,n)=>{const{isAmazonActive:i,getAdServer:r}=n(9182),{clearAllHbTargeting:o}=n(2808),s=n(1815),a=n(3739),{checkGoogleConsent:d}=n(8501),{fetchNexx360:c}=n(8216),{fetchApstag:l}=n(9426),{fetchTeads:g}=n(4775),{refreshGoogleSlots:p}=n(5694),{displayNonPersonalizedAds:u}=n(7212),{setTargetingForSlots:m,unifyAuctionsTargeting:h}=n(1417),{registerBids:f}=n(6653),{manageAdditionalSetup:y}=n(7066),{refreshSmartSlots:w}=n(3791),{loadGoogleLibrary:I}=n(2339),{refreshXandrSlots:v}=n(4217);let b=0;e.exports={applyRefresh:async e=>{e.forEach((e=>{e.setStatus("fetching"),e.markAsUnviewed()})),b+=1,o();const t=await d();"googleAdManager"===r()&&(s.info("googleConsent set",t),!t||window.googletag&&window.googletag.apiReady||(s.info("We load GPT library"),I()));const n=[];n.push(c(e)),n.push(g(e)),i()&&n.push(l(e)),s.info(n),Promise.all(n).then((async n=>{y(n),s.info("Reponses were all received");const i=h(n);f(b,n),m(i),"googleAdManager"===r()&&(t?(s.info(`We call googletag.pubads().refresh() for ${e.length} Google slots`),p(e)):(s.info(`We display ${e.length} non personalized ads`),u(e),e.forEach((e=>{e.setStatus("rendered"),a.emit("slotRenderEnded",e)})))),"smartAdServer"===r()&&w(e),"xandr"===r()&&v(e),"none"===r()&&(s.info(`We display ${e.length} non personalized ads`),u(e),e.forEach((e=>{e.setStatus("rendered"),a.emit("slotRenderEnded",e)})))}))}}},77:(e,t,n)=>{const{updateSlotsVitals:i,getSlotByDivId:r}=n(2808),{isDomContentLoaded:o,isGetMappingActive:s,getMappingFunction:a,isConfigSet:d,isGdprActive:c,getPrefetchPerformerStatus:l,getGdprApplies:g,getConfig:p}=n(9182),u=n(1815),m=n(3739),{getValidSlots:h}=n(5491),{applyRefresh:f}=n(1587),{getTcString:y}=n(8501),{storeTimelineEvent:w}=n(9318),{runPreRefreshTreatments:I}=n(9956),v=n(3546),{retrieveIds:b}=n(3265);let S=[];const T=async e=>{let t;s()&&!l()&&(await a())(),c()&&void 0===g()&&await y(),b();try{t=h(e)}catch(e){throw new Error(e.message)}if(t.forEach((e=>e.setStatus("pending"))),u.info("isDomContentLoaded on refresh",o()),o()){if(t=I(t),p().lazyLoading.isActive){i();const e=t.filter((e=>!1===e.isAbleToFetch));S.push(...e),t=t.filter((e=>e.isAbleToFetch))}f(t)}else m.on("domContentLoaded",(()=>{if(t=I(t),p().lazyLoading.isActive){i();const e=t.filter((e=>!1===e.isAbleToFetch));S.push(...e),t=t.filter((e=>e.isAbleToFetch))}f(t)}))},x=()=>{(()=>{const e=S.filter((e=>e.isAbleToFetch));e.length>0&&(e.forEach((e=>u.force(`Lazy loading on slot with divId ${e.divId}`))),f(e)),S=S.filter((e=>!e.isAbleToFetch))})(),setTimeout(x,1e3)};x(),e.exports={refresh:e=>{let t;void 0!==e&&(t=[],e.forEach((e=>{e instanceof v&&t.push(e),r(e)instanceof v&&t.push(r(e))}))),w("refreshCalled"),d()?T(t):m.on("nexx360ConfigSet",(()=>{T(t)}))}}},8511:(e,t,n)=>{const{destroySlots:i}=n(2808),{setInjectionParams:r,createN360SlotForInjection:o,createInjectionStyle:s}=n(8987),a=n(1815);e.exports={createDynamicSlots:e=>{const t=[];let n;try{n=r(e)}catch(e){throw new Error(e.message)}const d=window.innerHeight||document.documentElement.clientHeight;let c;const l=document.querySelectorAll(n.injected.selector);let g=0;if(!1!==n.injected.mainContentSelector){const e=document.querySelector(n.injected.mainContentSelector);null!==e?g=e.clientHeight:a.force(`mainContentSelector ${n.injected.mainContentSelector} not available for dynamic injection`)}if(0===l.length)throw new Error(`We cannot match any div with selector '${n.injected.selector}'`);const p=s(n);let u=(e=>{if(""===e)return 0;const t=document.querySelector(e);return null===t?0:t.getBoundingClientRect().bottom+window.pageYOffset})(n.injected.firstOffsetSelector);const m=(g+g/d*300)/d;c=0!==n.injected.maxRepetition&&m>n.injected.maxRepetition?((e,t)=>{const n=(i=1.4*t,o=-300*e,[(-1*(r=-e)+Math.sqrt(r**2-4*i*o))/(2*i),(-1*r-Math.sqrt(r**2-4*i*o))/(2*i)]);var i,r,o;return Math.max(...n)})(g,n.injected.maxRepetition):d*n.injected.densityIndex;let h=0;const f=e=>e<l.length&&(0===n.injected.maxRepetition||h<n.injected.maxRepetition);for(let e=0;f(e);e+=1){const i=l[e];if(i.getBoundingClientRect().bottom+window.pageYOffset>c+u){h+=1;const e=`${n.divId}-${h}`,r=document.createElement("div");r.id=e,r.classList.add("n360-injection"),r.classList.add(p),i.insertAdjacentHTML("afterend",r.outerHTML);const s=document.getElementById(e),a=o(e,n,h);u=s.getBoundingClientRect().bottom+window.pageYOffset,t.push(a)}}return g>0&&a.force(`Estimated ad coverage: ${350*(h+1)/g} %`),i([e]),t}}},730:(e,t,n)=>{const{destroySlots:i}=n(2808),{setInjectionParams:r,createN360SlotForInjection:o,createInjectionStyle:s}=n(8987);e.exports={createInjectedSlots:e=>{const t=[];let n;try{n=r(e)}catch(e){throw new Error(e.message)}const a=document.querySelectorAll(n.injected.selector);if(0===a.length)throw new Error(`We cannot match any div with selector '${n.injected.selector}'`);const d=s(n);let c=a.length;n.injected.maxRepetition>0&&(c=Math.min(n.injected.maxRepetition,a.length));for(let e=1;e<=c;e+=1){const i=`${n.divId}-${e}`,r=document.createElement("div");r.classList.add(d),r.id=i,a[e-1].insertAdjacentHTML(n.injected.position,r.outerHTML);const s=o(i,n,e);t.push(s)}return i([e]),t},setInjectionParams:r}},8987:(e,t,n)=>{const{defineSlot:i}=n(2808),{sanitizeStyle:r}=n(2217);e.exports={setInjectionParams:e=>{const t={adUnitId:e.adUnitId,sizes:e.sizes,divId:e.divId,injected:{}};if(void 0!==e.nexx360TagId&&(t.nexx360TagId=e.nexx360TagId),void 0!==e.teadsPageId&&void 0!==e.teadsPlacementId&&(t.teads={pageId:e.teadsPageId,placementId:e.teadsPlacementId}),void 0!==e.targeting&&(t.targeting=e.targeting),!e.injected.selector)throw new Error("Selector must be set");if(t.injected.selector=e.injected.selector,t.style=e.style||"",t.beforeStyle=e.beforeStyle||"",t.injected.label=e.injected.label||t.divId,t.injected.incrementalTargeting=e.injected.incrementalTargeting||[],t.injected.incrementalAdUnitId=e.injected.incrementalAdUnitId||!1,t.injected.mainContentSelector=e.injected.mainContentSelector||!1,t.injected.maxRepetition=e.injected.maxRepetition||0,!1===Number.isInteger(t.injected.maxRepetition))throw new Error("Max repetition must be an integer");if("injected"===e.type&&(t.injected.position=e.injected.position||"beforebegin",!["beforebegin","afterbegin","beforeend","afterend"].includes(t.injected.position)))throw new Error("Position must be in beforebegin, afterbegin, beforeend, afterend");return"dynamic"===e.type&&(t.injected.firstOffsetSelector=e.injected.firstOffsetSelector||"",t.injected.densityIndex=e.injected.densityIndex||.8),t},createN360SlotForInjection:(e,t,n)=>{let r;return r=t.injected.incrementalAdUnitId?i(`${t.adUnitId}${n}`,t.sizes,e):i(t.adUnitId,t.sizes,e),t.nexx360TagId&&r.setNexx360TagId(t.nexx360TagId),r.setLabel(`${t.injected.label}-${n}`),t.teads&&(r.setTeadsPlacementId(t.teads.placementId),r.setTeadsPageId(t.teads.pageId)),Object.keys(t.targeting).forEach((e=>{"adunit"!==e&&r.setTargeting(e,t.targeting[e])})),t.injected.incrementalTargeting.forEach((e=>{r.setTargeting(e.key,`${e.value}${n}`)})),window.n360Ad.display(e),r},createInjectionStyle:e=>{const t=`n360-injection-${e.divId}`,n=document.createElement("style");return n.textContent=`.${t} { ${e.style} } `,n.textContent+=`.${t}::before { ${r(e.beforeStyle)} } `,document.head.appendChild(n),t}}},7066:(e,t,n)=>{const{setRefresh:i,getRefreshHandlerCallStatus:r,setRefreshHandlerAsCalled:o}=n(9182),s=n(3739);e.exports={manageAdditionalSetup:e=>{if(0!==e.length)for(let t=0;t<e.length;t+=1){const n=e[t];if(n.nexx360&&!1===r()&&void 0!==n.nexx360.site.refresh){const{refresh:e}=n.nexx360.site;i(e),s.emit("refreshConfigSet"),o();break}}}}},9956:(e,t,n)=>{const{sanitizeStyle:i}=n(2217),{createInjectedSlots:r}=n(730),o=n(1815),{createDynamicSlots:s}=n(8511);e.exports={runPreRefreshTreatments:e=>{const t=[],n=document.createElement("style");return n.textContent="",e.forEach((e=>{if("regular"===e.getType()&&!1===e.styleUpdated){const t=e.getSlotElementId();n.textContent+=`#${t} { ${i(e.style)}} `,n.textContent+=`#${t}::before { ${i(e.beforeStyle)}} `,e.setStyleAsUpdated()}if("injected"===e.getType())try{const n=r(e);t.push(...n)}catch(e){o.force(e.message)}else if("dynamic"===e.getType())try{const n=s(e);t.push(...n)}catch(e){o.force(e.message)}else t.push(e)})),document.head.appendChild(n),t}}},1417:(e,t,n)=>{const{getSlotBySlotId:i}=n(2808),r=n(1815);e.exports={setTargetingForSlots:e=>{r.info("Final Targeting",e.targeting),void 0!==e.targeting&&"object"==typeof e.targeting&&Object.keys(e.targeting).forEach((t=>{const n=i(t);Object.keys(e.targeting[t]).forEach((i=>{n.setTargeting(i,e.targeting[t][i])}))}))},unifyAuctionsTargeting:e=>{const t={};return e.forEach((e=>{if(void 0===e)return;const{targeting:n}=e;void 0!==n&&"object"==typeof n&&Object.keys(n).forEach((e=>{void 0===n[e].n360_pb?t[e]={...t[e],...n[e]}:void 0===t[e]?(t[e]={...n[e],n360_slot_id:e},t[e].n360_adid||(t[e].n360_adid=n[e].n360_cache_id)):!(parseFloat(n[e].n360_pb)>=parseFloat(t[e].n360_pb))&&t[e].n360_pb||(t[e]={...n[e],n360_slot_id:e},t[e].n360_adid||(t[e].n360_adid=n[e].n360_cache_id))}))})),{targeting:t}}}},5491:(e,t,n)=>{const i=n(1815),{getSlots:r}=n(2808),o=n(3546);e.exports={getValidSlots:e=>{const t=[];if(void 0!==e&&"object"!=typeof e)throw new Error("Refresh Args must be an array");return(void 0===e?r():e).forEach((e=>{if(!("object"==typeof e&&void 0!==e.getType()&&e instanceof o))throw i.force(e),new Error("Args must be nexx360Slot");t.push(e)})),t}}},4695:(e,t,n)=>{const i=n(1815),r=n(3739),{getConfig:o}=n(9182),{DEFAULT_REFRESH_TIMEOUT:s}=n(5279),{refresh:a}=n(77);let d;const c=()=>{const e=o();if(e.refreshHandlerCalled)return!1;if(!e.refresh.isActive)return!1;if(!e.refresh.orderIds)return!1;if("object"!=typeof e.refresh.orderIds)return!1;if("include"===e.refresh.selectionType&&0===e.refresh.orderIds.length)return!1;try{e.refresh.orderIds=e.refresh.orderIds.map((e=>e.toString()))}catch(e){return!1}return e.refresh.timeout||(e.refresh.timeout=s),d={...e.refresh},!0};e.exports={activateRefreshHandler:()=>{c(),d&&(()=>{const{refreshInterval:e}=d;r.on("impressionViewable",(t=>{setTimeout((()=>{(e=>{if(e.isRefreshDisabled)return;const{selectionType:t,orderIds:n,repetition:r}=d;let o,{campaignId:s}=e.googleRenderedInfo;s=null!=s&&s,"include"===t&&(o=(!1===s||n.includes(s.toString()))&&(0===r||e.refreshCount<=r)&&!1===e.isRefreshDisabled&&e.visibility>.5&&"visible"===document.visibilityState),"exclude"===t&&(o=(!1===s||n.excludes(s.toString()))&&(0===r||e.refreshCount<=r)&&!1===e.isRefreshDisabled&&e.visibility>.5&&"visible"===document.visibilityState),o&&(e.registerRefresh(),e.setTargeting("nexx360_refresh",1),i.info("We refresh visible slot",e.divId,"visibility",e.visibility),a([e]))})(t)}),1e3*e)}))})()},checkEnabled:c}},2808:(e,t,n)=>{const i=n(1815),r=n(3739),o=n(3546),{isConfigSet:s}=n(9182);let a=[];const d=e=>{const t={id:e.slotId,label:e.label,type:e.type,adUnit:e.adUnitId,sizes:e.sizes,divId:e.divId};i.info("Slot created",t)},c=()=>a,l=()=>{a.forEach((e=>{const t=e.visibility;e.updateVisibility(),e.updateDistanceRatio(),e.checkLazyLoading(),"rendered"===e.status&&t>.5&&e.visibility>.5&&!e.viewed&&e.markAsViewed()}))},g=()=>{l(),setTimeout(g,250)};s()?g():r.on("nexx360ConfigSet",(()=>{g()})),e.exports={defineSlot:(e,t,n)=>{const i=new o("regular",t,n);return i.setAdUnitId(e),a.push(i),d(i),i},defineOutOfPageSlot:(e,t)=>{const n=new o("oop",t);return n.setAdUnitId(e),n.disableRefresh(),a.push(n),d(n),n},defineInjectedSlot:(e,t,n)=>{const i=new o("injected",t,n);return i.setAdUnitId(e),a.push(i),d(i),i},defineDynamicSlot:(e,t,n)=>{const i=new o("dynamic",t,n);return i.setAdUnitId(e),a.push(i),d(i),i},defineSmartSlot:(e,t,n)=>{const i=new o("regular",t,n);return i.setSmartIds(e),a.push(i),d(i),i},defineSmartOutOfPageSlot:(e,t)=>{const n=new o("oop",t);return n.setSmartIds(e),a.push(n),d(n),n},defineSmartInjectedSlot:(e,t,n)=>{const i=new o("injected",t,n);return i.setSmartIds(e),a.push(i),d(i),i},defineXandrSlot:e=>{const t=new o("regular",e.sizes,e.targetId);return t.setXandrInvCode(e.invCode),e.keywords&&Object.keys(e.keywords).forEach((n=>{t.setTargeting(n,e.keywords[n])})),a.push(t),d(t),t},getSlots:c,getSlotByDivId:e=>{const t=a.filter((t=>t.divId===e));return 1===t.length&&t[0]},destroySlots:e=>{const t=void 0===e?c():e;if(!Array.isArray(t))throw new Error("Slots must be a array in destroySlots");const n=t.map((e=>e.slotId));a=a.filter((e=>!n.includes(e.slotId)))},getSlotBySlotId:e=>{const t=a.filter((t=>t.slotId===e));return 1===t.length&&t[0]},clearAllHbTargeting:()=>{c().forEach((e=>{e.clearHbTargeting()}))},updateSlotsVitals:l}},3546:(e,t,n)=>{const{uuid:i}=n(8914),{getVisibilityForDiv:r,getDistanceRatioForDiv:o}=n(7760),s=n(3739),{getConfig:a}=n(9182);e.exports=class{constructor(e,t,n){this.slotId=i(),this.type=e,this.sizes=t,this.divId=n,this.targeting={nexx360_refresh:0},this.label="",this.style="",this.beforeStyle="",this.styleUpdated=!1,this.renderType="lazyLoading",this.isAbleToFetch=!1,this.isRefreshDisabled=!1,this.refreshCount=0,this.status="created",this.googleRenderedInfo={},this.viewed=!1,this.distanceRatio=0,"injected"===this.type&&(this.injected={status:!1},this.divId=void 0===this.divId?"injected":this.divId,this.renderType="domContentLoaded"),"dynamic"===this.type&&(this.injected={status:!1},this.divId=void 0===this.divId?"dynamic":this.divId,this.renderType="domContentLoaded"),this.updateVisibility(),this.checkLazyLoading()}setAdUnitId(e){return this.adUnitId=e,this}setXandrInvCode(e){this.xandrInvCode=e}setSmartIds(e){return this.smartIds=e,this}setNexx360TagId(e){return this.nexx360TagId=e,this}setLabel(e){return this.label=e,this}setTeadsPageId(e){return this.teadsPageId=e,this}setTeadsPlacementId(e){return this.teadsPlacementId=e,this}setTargeting(e,t){return void 0===e||void 0===t||(this.targeting[e]=t),this}setStyle(e){return this.style=e,this}setBeforeStyle(e){return this.beforeStyle=e,this}setStyleAsUpdated(){return this.styleUpdated=!0,this}getType(){return this.type}getAdUnitPath(){return this.adUnitId}getSlotElementId(){return this.divId}getSlotId(){return this.slotId}getTargetingKeys(){return Object.keys(this.targeting)}getTargeting(e){return void 0===this.targeting[e]?[]:Array.isArray(this.targeting[e])?this.targeting[e]:[this.targeting[e]]}clearTargeting(e){(void 0===e?Object.keys(this.targeting):[e]).forEach((e=>{delete this.targeting[e]}))}setCollapseEmptyDiv(e){return this.collapseEmptyDiv=e,this}clearHbTargeting(){return Object.keys(this.targeting).forEach((e=>{("n360"===e.substr(0,4)||"amzn"===e.substr(0,4))&&delete this.targeting[e]})),this}setInjectedSelector(e){return this.injected.selector=e,this}setInjectedPosition(e){return this.injected.position=e,this}setInjectedMaxRepetition(e){return this.injected.maxRepetition=e,this}setInjectedStyle(e){return this.style=e,this}setInjectedBeforeStyle(e){return this.beforeStyle=e,this}setInjectedLabel(e){return this.injected.label=e,this}setInjectedIncrementalTargeting(e,t){return this.injected.incrementalTargeting||(this.injected.incrementalTargeting=[]),this.injected.incrementalTargeting.push({key:e,value:t}),this}activateInjectedIncrementalAdUnitId(){return this.injected.incrementalAdUnitId=!0,this}setDynamicSelector(e){return this.injected.selector=e,this}setDynamicFirstOffsetSelector(e){return this.injected.firstOffsetSelector=e,this}setDynamicDensityIndex(e){if("number"!=typeof e)throw new Error("Density needs to be a number");return this.injected.densityIndex=e,this}setDynamicStyle(e){return this.style=e,this}setDynamicBeforeStyle(e){return this.beforeStyle=e,this}setDynamicLabel(e){return this.injected.label=e,this}setDynamicMainContentSelector(e){return this.injected.mainContentSelector=e,this}setDynamicIncrementalTargeting(e,t){return this.injected.incrementalTargeting||(this.injected.incrementalTargeting=[]),this.injected.incrementalTargeting.push({key:e,value:t}),this}setDynamicMaxRepetition(e){return this.injected.maxRepetition=e,this}activateDynamicIncrementalAdUnitId(){return this.injected.incrementalAdUnitId=!0,this}updateVisibility(){this.visibility=r(`#${this.divId}`)}getVisibility(){return this.visibility=r(`#${this.divId}`),this.visibility}updateDistanceRatio(){this.distanceRatio=o(`#${this.divId}`)}getDistanceRatio(){return this.distanceRatio=o(`#${this.divId}`),this.distanceRatio}checkLazyLoading(){const{lazyLoading:e}=a();if("direct"===this.renderType||!e||!1===e.isActive||0===e.isActive||["fetching","rendered"].includes(this.status))this.isAbleToFetch=!0;else{const t=window.screen.width<800?e.mobileFetchRatio:e.fetchRatio;this.isAbleToFetch=Math.abs(this.distanceRatio)<t}}setStatus(e){return this.status=e,"rendered"===this.status&&this.viewed&&(this.status="viewed"),this}setGoogleRenderedInfo(e){return this.googleRenderedInfo=e,this}excludeFromLazyLoading(){return this.renderType="direct",this}getGoogleRenderedInfo(){return this.googleRenderedInfo}markAsViewed(){this.viewed=!0,"rendered"===this.status&&(this.status="viewed"),s.emit("impressionViewable",this)}markAsUnviewed(){this.viewed=!1}disableRefresh(){return this.isRefreshDisabled=!0,this}registerRefresh(){return this.refreshCount+=1,this}}},7760:e=>{const{NODE_ENV:t}={};e.exports={getVisibilityForDiv:e=>{if("test"===t)return 1;if("visible"!==document.visibilityState)return 0;const n=document.querySelector(e);if(null===n)return 1;const i=window.innerHeight||document.documentElement.clientHeight,r=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,o=n.getBoundingClientRect().top+r,s=n.offsetHeight||n.clientHeight,a=r-o,d=o+s-(r+i);let c;return r>o+s||o>r+i?c=0:(c=1,a>0&&(c-=a/s),d>0&&(c-=d/s)),c},getDistanceRatioForDiv:e=>{if("test"===t)return 1;const n=document.querySelector(e);if(null===n)return 0;const i=n.getBoundingClientRect(),r=window.innerHeight||document.documentElement.clientHeight;return i.top>0?i.top/r:-i.bottom/r}}},4960:e=>{const t={};e.exports={getStoreElement:e=>"undefined"===t[e]?{}:t[e],setStoreElement:(e,n)=>(t[e]=n,!0)}},9318:e=>{const t=[],n={callToNexx360Start:!1,callToNexx360End:!1,callToGoogleAdsStart:!1,callToGoogleAdsEnd:!1,refreshCalled:!1,cmpLoaded:!1,consentResolved:!1},i=e=>e[0].toUpperCase()+e.slice(1),r=["callToNexx360Start","callToNexx360End","callToAmazonStart","callToAmazonEnd","callToTeadsStart","callToTeadsEnd","callToGoogleAdsStart","callToGoogleAdsEnd","refreshCalled"];e.exports={storeTimelineEvent:e=>{r.includes(e)?n[e]?t.push({name:`additional${i(e)}`,value:Math.round(Date.now()-window.performance.timeOrigin)}):(t.push({name:`first${i(e)}`,value:Math.round(Date.now()-window.performance.timeOrigin)}),n[e]=!0):["cmpLoaded","consentResolved"].includes(e)&&!n[e]?(t.push({name:e,value:Math.round(Date.now()-window.performance.timeOrigin)}),n[e]=!0):t.push({name:e,value:Math.round(Date.now()-window.performance.timeOrigin)})},getTimeline:()=>t}},6653:(e,t,n)=>{const{getSlotBySlotId:i}=n(2808),r=n(1815);let o=[];const s=(e,t)=>{const n={};return t.forEach((t=>{if(!t)return;const{auctions:i,targeting:r}=t;i&&i.forEach((t=>{const{slotId:i,label:o,tagId:s}=t;void 0===n[i]&&(n[i]={auctionId:e,slotId:i,bids:{}}),void 0!==o&&(n[i].label=o),void 0!==s&&(n[i].tagId=s),n[i].adid=r[i].n360_cache_id||r[i].n360_adid,n[i].size=r[i].n360_size||r[i].n360_size,n[i].bids={...n[i].bids,...t.bids}}))})),n},a=e=>{const t=[];return Object.values(e).forEach((e=>{const{slotId:n,auctionId:r,tagId:o,label:s,adid:a,size:d}=e;Object.keys(e.bids).forEach((c=>{const l=i(n);t.push({slotId:n,adid:a,divId:!1===l?"":l.divId,auctionId:r,size:d,tagId:o,label:s,ssp:c,bid:e.bids[c],displayed:!1})}))})),t},d=()=>o.map((e=>({auctionId:e.auctionId,adid:e.adid,tagId:e.tagId,divId:e.divId,label:e.label,ssp:e.ssp,bid:e.bid,displayed:e.displayed})));e.exports={getBids:()=>o,registerBids:(e,t)=>new Promise((()=>{r.force(e,t);const n=s(e,t);o.push(...a(n))})),createAuctionsObject:s,formatToBids:a,showAllBids:()=>{r.force("Auctions summary"),console.table(d())},registerBidAsDisplayed:(e,t)=>{o=o.reverse();const n=o.findIndex((n=>n.slotId===e&&n.ssp===t));-1===n?o=o.reverse():(o[n].displayed=!0,o.reverse())},getAllBids:d,getBidResponsesForAdUnitCode:e=>{const t=o.filter((t=>t.divId===e));if(0===t.length)return{bids:[]};const n=Math.max(...t.map((e=>e.auctionId))),i=t.filter((e=>e.auctionId===n)).reduce(((e,t)=>e.bid>t.bid?e:t));let r,s;try{r=parseInt(i.size.split("x")[0],10),s=parseInt(i.size.split("x")[1],10)}catch(e){r=0,s=0}return 0===i.bid?{bids:[]}:{bids:[{adId:i.adid,cpm:i.bid,bidderCode:i.ssp,width:r,height:s,mediaType:"banner",timeToRespond:200,dealId:"",creativeId:"",currency:"EUR",netRevenue:i.bid}]}}}},6566:e=>{e.exports={lgPriceConfig:{buckets:[{max:5,increment:.5}]},mgPriceConfig:{buckets:[{max:20,increment:.1}]},hgPriceConfig:{buckets:[{max:20,increment:.01}]},densePriceConfig:{buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},autoPriceConfig:{buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]}}},1822:(e,t,n)=>{const i=n(6566);function r(e){if(0===Object.keys(e).length||!e.buckets||!Array.isArray(e.buckets))return!1;let t=!0;return e.buckets.forEach((e=>{e.max&&e.increment||(t=!1)})),t}function o(e,t,n){let i="";if(!r(t))return i;const o=t.buckets.reduce(((e,t)=>e.max>t.max?e:t),{max:0});let s=0;const a=t.buckets.find((t=>{if(e>o.max*n){let{precision:e}=t;void 0===e&&(e=2),i=(t.max*n).toFixed(e)}else{if(e<=t.max*n&&e>=s*n)return t.min=s,t;s=t.max}}));return a&&(i=function(e,t,n){const i=void 0!==t.precision?t.precision:2,r=t.increment*n,o=t.min*n,s=Math.pow(10,i+2),a=(e*s-o*s)/(r*s);let d=Math.floor(a)*r+o;return d=Number(d.toFixed(10)),d.toFixed(i)}(e,a,n)),i}e.exports={getPriceBucketString:function(e,t=!1,n=1){let r=parseFloat(e);return Number.isNaN(r)&&(r=""),{low:""===r?"":o(e,i.lgPriceConfig,n),med:""===r?"":o(e,i.mgPriceConfig,n),high:""===r?"":o(e,i.hgPriceConfig,n),auto:""===r?"":o(e,i.autoPriceConfig,n),dense:""===r?"":o(e,i.densePriceConfig,n),custom:""===r&&!1===t?"":o(e,t,n)}},isValidPriceConfig:r}},1052:(e,t,n)=>{let{RATES_URL:i}=n(5279);const r=n(1815);let o={USD:1,JPY:109.19871530923166,BGN:1.6106398748250021,CZK:20.998105904636418,DKK:6.123939718356255,GBP:.7099975294408302,HUF:290.6201103516429,PLN:3.741085398995306,RON:4.05657580499053,SEK:8.363007494029484,CHF:.9017540970106235,ISK:124.43383019023305,NOK:8.289961294573006,HRK:6.189903648192375,RUB:74.07502264679239,TRY:8.371901507041095,AUD:1.2915259820472702,BRL:5.300584699003541,CAD:1.212221032693733,CNY:6.44206538746603,HKD:7.767273326196164,IDR:14347.953553487609,ILS:3.2848554722885615,INR:73.31647862966318,KRW:1138.252491147163,MXN:19.90257761673392,MYR:4.130774932059623,NZD:1.3900189409536359,PHP:47.92967141563041,SGD:1.3365725109116364,THB:31.469982706085812,ZAR:14.169809766943917,EUR:.823519723297373};const s=()=>new Promise(((e,t)=>{const n=new XMLHttpRequest;n.open("GET",i,!0),n.timeout=200,n.onreadystatechange=()=>{if(n.readyState===XMLHttpRequest.DONE&&200===n.status){const s=JSON.parse(n.responseText);s.conversions?(o=s.conversions.USD,r.info(`Currency retrieve from ${i}`),e()):t(new Error("Default Rates applied due to not compliant response.data"))}},n.ontimeout=()=>{e()},n.onerror=()=>{e()},n.send()}));e.exports={getRatesFromRemote:s,init:()=>{s()},convert:(e,t,n)=>{const i=parseFloat(e);if(Number.isNaN(i))throw new Error("Amount needs to be a float");if(t===n)return i;if(!o[t])throw new Error(`Start rate ${t} unknown`);if(!o[n])throw new Error(`End rate ${n} unknown`);return i/o[t]*o[n]},updateRatesUrl:e=>{i=e}}},3739:(e,t,n)=>{const{uuid:i}=n(8914),{NODE_ENV:r}={},o={},s=[];e.exports={emit:(e,t)=>{"test"!==r&&s.push({eventType:e,arg:t,timing:Date.now()-window.performance.timeOrigin}),o[e]&&Object.keys(o[e]).forEach((n=>o[e][n](t)))},on:(e,t)=>{const n=i();return o[e]||(o[e]={}),o[e][n]=t,{unsubscribe:()=>{delete o[e][n],0===Object.keys(o[e]).length&&delete o[e]}}},getInternalEvents:()=>s}},5439:(e,t,n)=>{const i=n(1815);let r={};const o=()=>{if(!window.localStorage.nexx360)return{};try{r=JSON.parse(window.localStorage.nexx360)}catch(e){i.force(`Unable to parse localStorage with content ${window.localStorage.nexx360}`)}return r};e.exports={setLocaLStorageItem:(e,t)=>{o(),r[e]=t,window.localStorage.setItem("nexx360",JSON.stringify(r))},getLocalStorageContent:o}},1815:(e,t,n)=>{const{getConfig:i}=n(9182),r=(e,t)=>(e.unshift(t),e.unshift("display: inline-block; color: #fff; background: #f39200; padding: 1px 4px; border-radius: 3px;"),e.unshift("%cNexx360"),e);e.exports={log:(...e)=>{i().debug&&console.log(...r(e,"LOG:"))},info:(...e)=>{i().debug&&console.info(...r(e,"INFO:"))},force:(...e)=>{console.info(...r(e,"INFO:"))}}},3649:(e,t,n)=>{const{scriptLoader:i}=n(6555);e.exports={openConsole:()=>{const e=document.createElement("div");e.id="app";const t=document.getElementsByTagName("body")[0];t.parentNode.insertBefore(e,t),i("//test.nexx360.io/ad-tool/ad-tool.js")}}},7729:e=>{e.exports={getCookie:e=>{const t=window.document.cookie.match(`(^|;)\\s*${e}\\s*=\\s*([^;]*)\\s*(;|$)`);return t?decodeURIComponent(t[2]):null}}},460:e=>{e.exports={getReferrer:e=>e.location.href}},2217:e=>{e.exports={sanitizeStyle:e=>{let t="";const n=e.split(";");return 0===n.length||n.forEach((e=>{const n=e.split(":");2===n.length&&("content"===n[0].trim()&&(n[1]=`"${n[1].trim()}"`),t+=`${n[0].trim()}:${n[1].trim()};`)})),t}}},6555:e=>{e.exports={scriptLoader:(e,t)=>{const n=document.createElement("script");n.async=!0,n.type="text/javascript",n.src=e,"function"==typeof t&&n.addEventListener("load",t);const i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)},scriptInjecter:e=>{const t=document.createElement("script");t.type="text/javascript",t.innerText=e;const n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}}},7414:e=>{e.exports={formatPrebidSizes:e=>{const t=[];return Array.isArray(e)?0===e.length?[]:1===e.length?Array.isArray(e[0])?2!==e[0].length?[]:e.map((e=>`${e[0]}x${e[1]}`)):[]:2!==e.length||Array.isArray(e[0])?(e.forEach((e=>{Array.isArray(e)&&2===e.length&&1!==e[0]&&1!==e[1]&&t.push(e)})),t.map((e=>`${e[0]}x${e[1]}`))):[`${e[0]}x${e[1]}`]:[]}}},8914:e=>{e.exports={uuidv4:()=>{const e=e=>{const t=`${Math.random().toString(16)}000000000`.substr(2,8);return e?`-${t.substr(0,4)}-${t.substr(4,4)}`:t};return e()+e(!0)+e(!0)+e()},uuid:()=>Math.random().toString(26).slice(2)}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}var __webpack_exports__={};(()=>{const{defineSlot:e,defineOutOfPageSlot:t,defineInjectedSlot:n,defineDynamicSlot:i,defineXandrSlot:r,getSlots:o,destroySlots:s,getSlotBySlotId:a,getSlotByDivId:d}=__webpack_require__(2808),c=__webpack_require__(1052),l=__webpack_require__(1815),g=__webpack_require__(9182),p=__webpack_require__(3739),{openConsole:u}=__webpack_require__(3649),{refresh:m}=__webpack_require__(77),{display:h}=__webpack_require__(3360),{getStoreElement:f}=__webpack_require__(4960),{showAllBids:y,registerBidAsDisplayed:w,getAllBids:I,getBidResponsesForAdUnitCode:v}=__webpack_require__(6653),{getTimeline:b,storeTimelineEvent:S}=__webpack_require__(9318),{syncUser:T}=__webpack_require__(1297),{activateRefreshHandler:x}=__webpack_require__(4695),{retrieveIds:E}=__webpack_require__(3265),{initTeadsCookieslessTag:_}=__webpack_require__(7378);window.n360Ad=window.n360Ad||{},window.n360Ad.que=window.n360Ad.que||[],window.n360Ad={...window.n360Ad,defineSlot:e,defineOutOfPageSlot:t,defineInjectedSlot:n,defineDynamicSlot:i,defineXandrSlot:r,getSlots:o,destroySlots:s,getSlotBySlotId:a,getSlotByDivId:d,refresh:m,loadTags:m,clearConfig:g.clearConfig,setConfig:g.setConfig,getConfig:g.getConfig,getStoreElement:f,display:h,setTargeting:g.setTargeting,getTargeting:g.getTargeting,getAllBids:I,showAllBids:y,getBidResponsesForAdUnitCode:v,registerBidAsDisplayed:w,getTimeline:b,getInternalEvents:p.getInternalEvents,openConsole:u,ready:!0},S("nexx360LibInitiated"),c.init(),E(),p.on("nexx360ConfigSet",(()=>{l.force("Nexx360 Library initiated - v2.8.0 generated on Tue Nov 14 2023 17:22:59 GMT+0000 (Coordinated Universal Time)"),l.force("Config Set",g.getConfig()),_(),T()})),p.on("refreshConfigSet",x),["complete","loaded","interactive"].includes(document.readyState)?(S("domContentLoaded"),p.emit("domContentLoaded"),g.setDomContentLoaded()):document.addEventListener("DOMContentLoaded",(()=>{S("domContentLoaded"),g.setDomContentLoaded(),l.force("DOMContentLoaded in "+(Date.now()-window.performance.timeOrigin)),p.emit("domContentLoaded")})),window.n360Ad.que.push=e=>e();for(let e=0;e<window.n360Ad.que.length;e+=1)window.n360Ad.que[e]()})()})();